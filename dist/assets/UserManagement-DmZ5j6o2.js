import{R as E,r as s,j as t,g as A,N as F,i as f}from"./index-DvAQHZBz.js";import{A as H}from"./index.esm-axsPGQBP.js";import{P as O}from"./dummy-profile-Cpwg2HeC.js";import{M as z}from"./ModalPop-BlgZ6xNY.js";import{X as I}from"./index.es-Mzx9QTXI.js";import{C as L}from"./CustomTitle-Ba-iC58E.js";import{T as B}from"./TableLoader-BrzTgT5J.js";import"./styles-CPNO8nog.js";import"./SalesCreate-2W9T0Ud4.js";import"./FormControlLabel-GwBURcRQ.js";import"./createSvgIcon-CY8wNGfL.js";import"./Stack-D792XGEW.js";import"./index-Cqtmp151.js";import"./index.esm-DKblCDgZ.js";const ae=()=>{const x="User Management",j=t.jsx(H,{}),[c,d]=E.useState(!1),[i,v]=s.useState(null),[r,P]=s.useState(10),[S,R]=s.useState(0),[C,b]=s.useState([]),[m,p]=s.useState(1),[y,g]=s.useState(!1),[N,U]=s.useState("email"),[u,h]=s.useState(!1),a=e=>{d(!0),v(e)},w=e=>{p(e)},k=(e,n)=>{P(e),p(n)},l=async(e="")=>{let n=`/consumers?page=${m}&size=${r}&${N}=${e}`;try{g(!0);const o=await A(n);console.log("User data -->",o);const $=o.data.data.items;b($),R(o.data.data.total),g(!1),h(!1)}catch(o){F.error(o.message)}};s.useEffect(()=>{l()},[r,m]),s.useEffect(()=>{u&&l()},[u]);const D=e=>{l(e)},M=[{name:"Name",selector:e=>e.name,sortable:!0,width:"230px",cell:e=>t.jsxs("div",{onClick:()=>a(e),className:"d-flex ",children:[t.jsx("div",{className:"d-flex justify-content-center align-items-center",children:f(e.profileImageUrl)&&f(e.profileImageUrl)?t.jsx("img",{src:e.profileImageUrl,alt:"Profile",style:{width:35,height:35,borderRadius:"50%"}}):t.jsx("img",{src:O,alt:"Profile",style:{width:35,height:35,borderRadius:"50%",objectFit:"cover"}})}),t.jsxs("div",{children:[t.jsx("div",{className:"ps-2",style:{fontWeight:"500"},children:`${e.firstName} ${e.lastName}`}),t.jsx("div",{className:"ps-2",style:{fontSize:"13px"},children:e.email})]})]})},{name:"Active",cell:e=>t.jsx("div",{onClick:()=>a(e),children:t.jsx("span",{className:`rounded-pill ${e.active?"active-pill":"blocked-pill"}`,children:e.active?"Active":"Blocked"})})},{name:"Mobile Num",cell:e=>t.jsx("div",{onClick:()=>a(e),children:e.phoneNumber}),sortable:!0},{name:"City",cell:e=>t.jsx("div",{onClick:()=>a(e),children:e.address}),sortable:!0},{name:"Joined On",cell:e=>t.jsx("div",{onClick:()=>a(e),children:new Date(e.createdAt).toLocaleDateString()}),sortable:!0}],T={headCells:{style:{fontSize:"16px",textTransform:"uppercase"}},rows:{style:{fontSize:"16px",color:"#6F6B7D",fontFamily:"Poppins",cursor:"pointer"}}};return t.jsxs(t.Fragment,{children:[c&&i&&t.jsx(z,{show:c,onHide:()=>d(!1),rowData:i,setUpdatedRowData:h,showForm:"user"}),t.jsx("div",{className:"main-table rounded ",children:t.jsx(I,{title:t.jsx(L,{icon:j,title:x,setOption:U,searchByText:D,options:[{text:"Email",value:"email"},{text:"Mobile Number",value:"phoneNumber"}]}),columns:M,data:C,pagination:!0,paginationPerPage:r,paginationRowsPerPageOptions:[10,25,50],paginationServer:!0,paginationTotalRows:S,onChangePage:w,onChangeRowsPerPage:k,fixedHeader:!0,fixedHeaderScrollHeight:"450px",highlightOnHover:!0,onRowClicked:e=>a(e),progressPending:y,progressComponent:t.jsx(B,{}),selectedRow:i,customStyles:T})})]})};export{ae as default};
