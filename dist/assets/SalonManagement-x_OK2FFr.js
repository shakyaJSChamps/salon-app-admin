import{r as a,u as H,j as t,d as O,e as I,N as M,i as A}from"./index-DvAQHZBz.js";import{A as B}from"./index.esm-axsPGQBP.js";import{s as G}from"./salons-BZVnHxIQ.js";import{X}from"./index.es-Mzx9QTXI.js";import{C as Q}from"./CustomTitle-Ba-iC58E.js";import{T as V}from"./TableLoader-BrzTgT5J.js";import"./index.esm-DKblCDgZ.js";const Z=()=>{const u="Saloon Management",x=t.jsx(B,{}),[n,h]=a.useState(10),[f,i]=a.useState(0),[S,y]=a.useState([]),[j,r]=a.useState([]),[C,l]=a.useState(!1),[N,P]=a.useState(""),[c,m]=a.useState(1),[d,v]=a.useState(null),[R,T]=a.useState("name"),b=H(),o=e=>{v(e),b(`/salon-management/${e.id}`)},w=e=>{m(e)},D=(e,s)=>{h(e)},k=async()=>{let e="/salons?page=1&size=1000";try{l(!0);const s=await I(e);y(s.data.data.items),i(s.data.data.items.length),l(!1),g(s.data.data.items,N)}catch(s){M.error(s.message)}};a.useEffect(()=>{k()},[]);const g=(e,s)=>{if(!s){r(e);return}const U=s.toLowerCase(),p=e.filter(z=>z[R].toLowerCase().includes(U));r(p),i(p.length)},E=e=>{P(e),g(S,e),m(1)},F=[{name:"Name",selector:e=>e.name,sortable:!0,cell:e=>t.jsxs("div",{onClick:()=>o(e),className:"d-flex",children:[t.jsx("div",{className:"d-flex justify-content-center align-items-center",children:A(e.mainGateImageUrl)?t.jsx("img",{src:e.mainGateImageUrl,alt:"Profile",style:{width:35,height:35,borderRadius:"50%"}}):t.jsx("img",{src:G,alt:"Profile",style:{width:35,height:35,borderRadius:"50%",objectFit:"cover"}})}),t.jsxs("div",{className:"cursor-pointer",children:[t.jsx("div",{className:"ps-2",style:{fontWeight:"500"},children:e.name}),t.jsx("div",{className:"ps-2",style:{fontSize:"13px"},children:e.email})]})]})},{name:"Company Name",selector:e=>t.jsx("p",{onClick:()=>o(e),className:"cursor-pointer",children:e.companyName}),sortable:!0},{name:"Service Type",selector:e=>t.jsx("p",{onClick:()=>o(e),className:"cursor-pointer",children:e.serviceType}),sortable:!0},{name:"City",cell:e=>t.jsx("p",{onClick:()=>o(e),className:"cursor-pointer",children:e.city}),sortable:!0}],L={headCells:{style:{fontSize:"16px",textTransform:"uppercase"}},rows:{style:{fontSize:"16px",color:"#6F6B7D",fontFamily:"Poppins"}}};return t.jsx(t.Fragment,{children:d?t.jsx(O,{id:d.id}):t.jsx("div",{className:"main-table rounded",children:t.jsx(X,{title:t.jsx(Q,{icon:x,title:u,setOption:T,searchByText:E,options:[{text:"Name",value:"name"},{text:"City",value:"city"},{text:"Company Name",value:"companyName"}]}),columns:F,data:j.slice((c-1)*n,c*n),pagination:!0,paginationPerPage:n,paginationRowsPerPageOptions:[10,25,50],paginationServer:!0,paginationTotalRows:f,onChangePage:w,onChangeRowsPerPage:D,fixedHeader:!0,fixedHeaderScrollHeight:"450px",highlightOnHover:!0,progressPending:C,progressComponent:t.jsx(V,{}),customStyles:L})})})};export{Z as default};
